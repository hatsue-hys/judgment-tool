# デイトレ判断補助ツール

エントリー可否をスコアで可視化する、個人向けトレード判断補助 Web アプリ。
**自動売買なし。** 自分の判断を整理するためのツールです。

**公開 URL：** https://reverbeat-engine.web.app

---

## 機能

- **短期（デイトレ）・中長期（スイング）** の2モードに対応
- **日本株（東証）・米国株（NYSE / NASDAQ）** を切り替えて使用可能
- スコアに基づいてエントリー判断を **OK / 様子見 / 触るな** の3段階で表示
- **損切り目安価格・推奨ポジションサイズ** を自動計算
- **リスク警告**（集中度・地合い・ボラティリティなど）を複数同時表示
- **前日データ自動取得**（前日高値・安値・出来高）
- **トレンド・地合いの自動判定**（過去データから計算）
- **Claude に調査依頼**ボタンでリサーチクエリを自動生成

---

## スコア計算ロジック

### 取引方向（共通）

ロング（買い）とショート（売り）を選択。価格位置スコアの計算に影響する。

### 短期（デイトレ）

| 要素 | 内容 |
|------|------|
| 地合い ★ | 良い +2 / 普通 0 / 悪い −2 |
| 集中度 | 5=+2, 4=+1, 3=0, 2=−1, 1=−2 |
| 価格位置 | 下記参照 |

**価格位置スコア（方向別）**

| 価格の位置 | ロング | ショート |
|-----------|--------|---------|
| 前日安値付近（+1%以内） | +1 | −1 |
| レンジ内 | 0 | 0 |
| 前日高値付近（−1%以内） | −1 | +1 |
| 前日高値を超えている | −2 | −3 |
| 前日安値を割っている | −3 | −2 |

**ハードルール（スコアより優先）**
- 集中度 ≤ 2 → 触るな
- 地合い「悪い」かつ集中度 < 4 → 触るな

**判定**

| スコア | 判定 |
|--------|------|
| 3以上 | ロング / ショート エントリーOK |
| 0〜2 | 様子見 |
| −1以下 | 触るな |

### 中長期（スイング）

短期の3要素に加え、以下を追加：

| 要素 | 内容 |
|------|------|
| 週足・月足トレンド ★ | 上昇 +3 / 横ばい 0 / 下降 −3 |
| 次の決算まで | 1ヶ月以上先 +1 / 1ヶ月以内 0 / 2週間以内 −1 / 1週間以内 −3 |
| セクターモメンタム | 強い +2 / 普通 0 / 弱い −2 |
| 地合い ★ | 良い +2 / 普通 0 / 悪い −2 |

★ = 「前日データ取得」ボタンで自動入力

**ハードルール（スコアより優先）**
- 集中度 ≤ 2 → 触るな
- 決算1週間以内かつスコア < 5 → 様子見

**判定**

| スコア | 判定 |
|--------|------|
| 5以上 | ロング / ショート エントリーOK |
| 1〜4 | 様子見 |
| 0以下 | 触るな |

---

## データ取得について

APIキーを設定すると前日データ（高値・安値・出来高）を自動取得できます。

| API | 対応市場 | 無料枠 | 取得方法 |
|-----|---------|--------|---------|
| [Twelve Data](https://twelvedata.com/apikey) | 日本株・米国株 | 800回/日 | メール登録のみ・クレカ不要 |
| [Alpha Vantage](https://www.alphavantage.co/support/#api-key) | 日本株・米国株 | 25回/日 | メール登録のみ・クレカ不要 |

APIキー未設定の場合はプロキシ経由での取得を試みます（不安定な場合あり）。

---

## ファイル構成

```
├── index.html   # UI（フォーム・結果表示）
├── style.css    # ダークテーマスタイル
├── app.js       # 計算ロジック・データ取得・DOM操作
├── firebase.json
└── .firebaserc
```

---

## ローカルで動かす

```bash
# リポジトリをクローン
git clone https://github.com/hatsue-hys/judgment-tool.git
cd judgment-tool

# ブラウザで直接開く（サーバー不要）
open index.html
```

---

## デプロイ（Firebase Hosting）

```bash
npm install -g firebase-tools
firebase login
firebase deploy
```

---

## 免責事項

このツールは投資判断の整理を補助するものです。
投資は自己責任で行ってください。売買を推奨するものではありません。
